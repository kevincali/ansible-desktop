- name: Add RPM Fusion repositories
  dnf:
    name: "{{ item }}"
    state: present
    disable_gpg_check: yes
  with_items:
    - "https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-{{ ansible_distribution_major_version }}.noarch.rpm"
    - "https://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-{{ ansible_distribution_major_version }}.noarch.rpm"

- name: Add VSCode repository
  yum_repository:
    name: vscode
    description: Visual Studio Code
    baseurl: https://packages.microsoft.com/yumrepos/vscode
    gpgcheck: yes
    gpgkey: https://packages.microsoft.com/keys/microsoft.asc

- name: Add Keybase repository
  yum_repository:
    name: keybase
    description: Keybase.io
    baseurl: http://prerelease.keybase.io/rpm/x86_64
    gpgcheck: yes
    gpgkey: https://keybase.io/docs/server_security/code_signing_key.asc

- name: Add Balena Etcher repository
  yum_repository:
    name: balena-etcher
    description: Balena Etcher
    baseurl: "https://dl.cloudsmith.io/public/balena/etcher/rpm/{{ ansible_distribution }}/{{ ansible_distribution_major_version }}/{{ ansible_architecture }}"
    gpgcheck: yes
    gpgkey: https://dl.cloudsmith.io/public/balena/etcher/gpg.70528471AFF9A051.key
